package com.allen.web.service.dbinfo;

import java.util.List;

import javax.annotation.Resource;

import org.springframework.stereotype.Service;

import com.allen.core.feature.orm.mybatis.Page;
import com.allen.core.generic.GenericDao;
import com.allen.core.generic.GenericServiceImpl;
import com.allen.web.dao.DbInfoMapper;
import com.allen.web.enums.EnumBool;
import com.allen.web.model.DbInfo;
import com.allen.web.model.DbInfoExample;

/**
 * 
 * @ClassName: DbInfoServiceImpl
 * @Description: DB信息维护服务实现类
 * @author wenquan
 * @date 2016年7月11日 上午9:25:44
 *
 */
@Service
public class DbInfoServiceImpl extends GenericServiceImpl<DbInfo, String>implements DbInfoService {

	@Resource
	DbInfoMapper dbInfoMapper;

	@Override
	public List<DbInfo> selectList() {
		DbInfoExample example = new DbInfoExample();
		example.createCriteria().andIsValidEqualTo(EnumBool.YES.getCode());
		return this.dbInfoMapper.selectByExample(example);
	}

	@Override
	public List<DbInfo> selectList(Page<DbInfo> page) {
		DbInfoExample example = new DbInfoExample();
		example.createCriteria().andIsValidEqualTo(EnumBool.YES.getCode());
		return this.dbInfoMapper.selectByExample(example, page);
	}

	@Override
	public int delete(String id) {
		DbInfo record = new DbInfo();
		record.setDbId(id);
		record.setIsValid(EnumBool.NO.getCode());
		return this.dbInfoMapper.updateByPrimaryKeySelective(record);
	}

	@Override
	public GenericDao<DbInfo, String> getDao() {
		return this.dbInfoMapper;
	}
}
